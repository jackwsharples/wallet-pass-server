<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Add to Apple Wallet</title>
    <style>
      :root { --accent:#007aff; --bg:#0f172a; --fg:#e5e7eb; }
      html,body { height:100%; margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#0b1020; color:var(--fg); }
      .wrap { display:grid; place-items:center; height:100%; padding:24px; }
      .card { width:min(520px, 92vw); background:#0f172a; border:1px solid #1f2a44; border-radius:16px; padding:24px; box-shadow: 0 10px 30px rgba(0,0,0,.4)}
      h1 { margin:0 0 8px; font-size:24px }
      p { opacity:.8 }
      label { display:block; margin:16px 0 6px; font-weight:600 }
      input { width:100%; padding:12px 14px; border-radius:10px; border:1px solid #334155; background:#111827; color:#e5e7eb }
      button { margin-top:16px; background:var(--accent); color:white; border:0; padding:12px 16px; border-radius:10px; font-weight:700; cursor:pointer }
      .hint { font-size:12px; opacity:.7; margin-top:6px }
      .footer { margin-top:20px; font-size:12px; opacity:.6 }
      a { color:#9dd6ff }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>Create Apple Wallet Pass</h1>
        <p>Enter a name and tap the button to generate a Wallet pass on-device.</p>
        <label for="name">Name on pass</label>
        <input id="name" placeholder="Jane Appleseed" />
        <button id="btn">Add to Apple Wallet</button>
        <div class="hint">On iPhone, this downloads a .pkpass and opens Wallet.</div>
        <div class="footer">Server generates passes with your Apple certificates. No data is stored.</div>
      </div>
    </div>
    <script>
      const $ = (s)=>document.querySelector(s);
      $('#btn').addEventListener('click', ()=>{
        const name = encodeURIComponent($('#name').value || 'Guest');
        const url = `/api/pass?name=${name}`;
        window.location.href = url;
      });
    </script>
  </body>
  </html>

